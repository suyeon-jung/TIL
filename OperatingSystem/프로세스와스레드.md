# 프로세스 & 스레드

> **프로세스 : 프로그램을 메모리 상에서 실행중인 작업<br/>
스레드 : 프로세스 안에서 실행되는 여러 흐름 단위**

<br>

#  프로그램 vs 프로세스

> *A process is a program in execution*
> 
- **프로그램(Program)**
    - 파일 시스템에 존재하는 **실행 파일**
    - `.exe`, `.out`으로 끝나는 파일 등
- **프로세스(Process)**
    - 메모리에 올라와 실행되고 있는 **프로그램의 실행 인스턴스**
    - 운영체제로부터 주소 공간, 파일, 메모리 등 과 같은 시스템 자원을 할당받는 작업의 단위
    - 각 프로세스는 최소 1개의 스레드를 소유한다. 
    - 할당받는 시스템 자원의 종류
      - CPU time
      - 주소 공간
      - 독립된 메모리 영역

# 프로세스

## 프로세스 제어 블록(PCB;Process Control Block)
> 특정 **프로세스에 대한 정보**들을 저장하고 있는 운영체제의 자료구조
- 각 프로세스가 생성될 때마다 고유한 PCB가 생성되고 해당 프로세스가 종료되면 PCB도 제거된다. 
- *멀티 태스킹 환경*에서 `Context Switching`을 위해 프로세스에 대한 상태와 정보를 스냅샷해야 하는데 이를 PCB가 담당한다. 
### PCB에 저장되는 정보
1. 프로세스 식별자(PID; Process ID)
2. 프로세스 상태 : `new`, `ready`, `waiting`, `running`, `terminated` 등과 같은 프로세스 상태 
3. 프로그램 카운터 : 프로세스가 다음에 실행할 명령어의 주소
4. CPU 레지스터
5. CPU 스케줄링 정보 : 프로세스의 우선순위, 스케줄링 큐에 대한 포인터 등
6. 메모리 관리 정보 : 페이지 테이블 또는 세그먼트 테이블 등과 같은 정보를 포함
7. 입출력 상태 정보 : 프로세스에 할당된 입출력 장치들과 열린 파일 목록

### Context Switching(문맥 교환) 이란?
> 하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해 이전의 프로세스 상태를 보관하고 새로운 프로세스의 상태를 적재하는 작업

(이전에 적재되었던 프로세스의 문맥은 PCB에 기록됨)

<br>
<br>

## 프로세스의 상태와 전이
![](data:image/jpeg;base64,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)
- **프로세스의 상태**
  - 생성(`new`) : 작업을 커널에 등록, PCB를 할당받고 프로세스가 생성되는 단계
  - 준비(`ready`)
    - 프로세스가 프로세서 외에 다른 모든 자원을 할당 받은 상태
    - 준비상태 큐에서 실행을 준비하고 있는 상태
  - 실행(`running`)
    - 준비상태 큐의 프로세스가 프로세서를 할당받아 실행되는 상태
    - 프로세스 수행이 완료되기 전 할당받은 CPU time이 종료되면 프로세스는 interrupt 되어 준비(`ready`) 상태로 전이
    - 실행 중 I/O 처리를 수행해야 하는 경우 대기(`waiting`) 상태로 전이
    - 준비 상태에서 실행 상태로의 전이는 CPU 스케줄러에 의해 수행
  - 대기(`waiting`) : 프로세서 외에 다른 자원할당을 기다리고 있는 상태(주로 입출력)
  - 종료(`terminated`) : 프로세스 실행이 끝나고 프로세스 할당이 해제된 상태
- **프로세스의 전이**
  - Dispatch : 준비 상태에서 대기하고 있는 프로세스 중 하나가 프로세서를 할당 받아 실행 상태로 전이되는 과정
  - Wake up : 입출력이 완료되어 프로세스가 대기 상태에서 준비 상태로 전이되는 과정

<br>
<br>

## 프로세스의 메모리 할당
![](data:image/png;base64,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)

프로세스는 각각 독립된 주소공간을 할당받는다.

- `Code` → 코드 자체를 구성하는 메모리 영역(프로그램 명령)
- `Data` → 전역변수, 정적(Static)변수, 배열, 구조체 등
    - 초기화된 데이터는 Data 영역에 저장
    - 초기화되지 않은 데이터는 BSS 영역에 저장
- `Heap` → 동적 메모리 할당 공간 (`new()` , `malloc()` 등)
- `Stack` → 함수의 수행을 마치고 복귀할 주소, 실행되는 함수 안에서 선언된 지역변수, 매개변수, 리턴 값 등 임시 메모리 영역


기본적으로 각 프로세스는 **다른 프로세스의 할당된 메모리 공간에 접근할 수 없고 접근이 필요한 경우 프로세스 간 통신(IPC;Inter Process Communication)가 필요**하다. (예시, 파이프, 파일, 소켓 등을 이용한 통신 방법)

<br>
<br>

## 멀티 프로세스(Multi process)
- 2개 이상의 프로세서(CPU)가 하나 이상의 프로세스들을 동시에 처리(병렬)
- 장점
  - 안전성 : 하나의 프로세스가 죽어도 다른 프로세스에 영향을 끼치지 않고 수행될 수 있음
- 단점
  - 각 프로세스가 독립된 메모리 영역을 가져 작업량 많을 수록 오버헤드 발생
  - Context Switching으로 인한 성능 저하(캐시 메모리 비우는 작업)

# 스레드
> 프로세스 내에서 실행되는 흐름의 단위

## 스레드의 구성
- 스레드 ID
- 프로그램 카운터
- 레지스터 집합(PC 레지스터)
- 스택

## 스레드의 메모리 할당
- 스레드는 프로세스 내에서 각각 **별도의 레지스터와 Stack**을 할당받으며 Code, Data, Heap 영역은 다른 스레드와 공유한다. 
- 이를 통해서 IPC와 같은 기법 없이도 스레드간 데이터를 주고 받을 수 있다.

## 멀티 스레드
- 하나의 응용 프로그램에서 여러 스레드를 구성해 각 스레드가 하나의 작업을 처리하도록 하는 것
- 장점
  - 공유 메모리만큼 시간, 자원 손실 감소
  - 전역 변수와 정적 변수에 대한 자료 공유 가능
- 단점
  - 스레드간 데이터 동기화 문제(Cirtical Section으로 대비)

<br>
<br>

# 프로세스 vs 스레드
- **프로세스**
  - 운영체제로부터 자원을 할당받는다.
  - 기본적으로 프로세스 당 최소 1개의 스레드(메인 스레드)를 가지고 있다. 
- **스레드** 
  - 프로세스로부터 자원을 할당받는다.
  - 각 스레드는 개별 Stack을 가지고 프로세스의 전역 메모리 공간을 공유한다. 

<br>

- Stack 영역을 스레드마다 독립적으로 할당하는 이유
  
  Stack 영역은 함수 호출 시 전달되는 매개변수, 돌아갈 주소값 및 함수 내에서 선언하는 지역변수 등을 저장하기 위해 사용되는 메모리 공간으로 이 영역이 독립적이라는 것은 독립적인 함수 호출이 가능하다는 것이다. <br>
  스레드의 정의에 따라 독립적인 실행 흐름을 가지려면 최소 조건으로 독립적인 Stack 영역을 할당해야 한다. 

  <br>

- PC 레지스터를 스레드마다 독립적으로 할당하는 이유<br>
  
  PC 레지스터는 스레드가 명령어를 어디까지 수행했는지 저장하는데 스레드는 CPU를 할당받았다가 스케줄러에 의해 다른 스레드가 선점하므로 명령어가 연속적으로 수행되지 못해 어느 부분까지 수행했는지 기억해야 한다. 

